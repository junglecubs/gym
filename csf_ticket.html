<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta property="og:title" content="Cubs Sports Fest Ticket">
  <meta property="og:description" content="Entry Ticket for Cups Sports Fest">
  <title>Cubs Sports Fest Ticket</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Nunito:wght@400;700;900&display=swap');

    :root {
      --ticket-width: 800px;
      /* Adjust based on actual image aspect ratio */
      --ticket-height: 268px;
    }

    body {
      font-family: 'Nunito', sans-serif;
      background-color: #ecf7f0;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      margin: 0;
      padding: 10px;
    }

    .ticket-wrapper {
      position: relative;
      width: 100%;
      max-width: var(--ticket-width);
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
      border-radius: 10px;
      overflow: hidden;
      /* Maintain aspect ratio */
    }

    /* The Ticket Image */
    .ticket-bg {
      width: 100%;
      display: block;
      height: auto;
    }

    /* Overlay Container for Text */
    .ticket-details {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      color: #333;
    }

    /* CENTER SECTION - Child, Parent, Mobile */
    .section-center {
      position: absolute;
      top: 24%;
      /* Up 2% (was 26%) */
      left: 55%;
      transform: translateX(-50%);
      text-align: center;
      width: 40%;
    }

    .child-name {
      font-size: 1.6rem;
      font-weight: 900;
      color: #287844;
      margin-bottom: 2px;
      /* Reduced space */
      text-transform: uppercase;
    }

    .parent-details {
      font-size: 0.9rem;
      font-weight: 700;
      color: #da3e26;
      /* Using a contrasting color from logo/theme */
      background: rgba(255, 255, 255, 0.6);
      padding: 2px 10px;
      border-radius: 10px;
      display: inline-block;
    }

    /* RIGHT SECTION - Venue, Session, QR */
    .section-right {
      position: absolute;
      top: 35%;
      /* Down 2% (was 33%) */
      right: -5%;
      /* Left 3% (was -8%) */
      width: 25%;
      text-align: center;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .meta-details {
      font-size: 0.7rem;
      font-weight: 800;
      color: #555;
      margin-bottom: 5px;
      line-height: 1.2;
    }

    .meta-highlight {
      color: #287844;
      font-size: 0.9rem;
      font-weight: 900;
      margin-bottom: 5px;
      display: block;
    }

    .qr-code {
      width: 90px;
      height: 90px;
      border: 3px solid white;
      border-radius: 8px;
    }

    /* Disable old classes not in use */
    .field,
    .f-child,
    .f-contact,
    .f-batch,
    .f-id {
      display: none;
    }

    /* --- FLOATING CHARACTERS (Kept but purely decorative outside the ticket) --- */
    .jungle-scene {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      /* Behind ticket */
      pointer-events: none;
      overflow: hidden;
    }

    .char {
      position: absolute;
      width: 120px;
      opacity: 0.8;
      animation: float 6s ease-in-out infinite;
    }

    /* Positions for monkeys around the screen */
    .c1 {
      top: 10%;
      left: 5%;
    }

    .c2 {
      bottom: 10%;
      right: 5%;
      animation-delay: 1s;
    }

    @keyframes float {

      0%,
      100% {
        transform: translateY(0);
      }

      50% {
        transform: translateY(-15px);
      }
    }
  </style>
</head>

<body>

  <div class="jungle-scene">
    <img src="https://i.postimg.cc/P5f3PB9b/Monkey_climbing_cam2.webp" class="char c1" alt="Cub 1">
    <img src="https://i.postimg.cc/mgZXt0Jy/Yoga_poses_for_work_monkey.webp" class="char c2" alt="Cub 2">
  </div>

  <div class="ticket-wrapper">
    <!-- background image -->
    <img src="CSF TICKET FORMAT.jpg" alt="Ticket Background" class="ticket-bg">

    <div class="ticket-details">

      <!-- Center Section -->
      <div class="section-center">
        <div class="child-name" id="childName">Super Cub</div>
        <div class="parent-details">
          <div id="parentName">Parent</div>
          <div id="mobile" style="font-size: 0.85em; margin-top: 2px;">+91 ...</div>
        </div>
      </div>

      <!-- Right Section -->
      <div class="section-right">
        <div class="meta-details">
          V4 Turf, Bhandup<br>
          <span class="meta-highlight" id="batch">Morning Batch</span>
          ID: <span id="rowId">#001</span>
        </div>
        <!-- QR Code -->
        <img id="qrImg" src="" class="qr-code" alt="QR">
      </div>

    </div>
  </div>

  <!-- Helper text for testing positioning -->
  <!-- <div style="position:fixed; top:10px; left:10px; background:white; padding:5px; font-size:10px; opacity:0.7;">
     Use DevTools to adjust .f-child, .f-batch etc. top/left %
  </div> -->

  <script>
    // 1. Get URL Parameters
    const params = new URLSearchParams(window.location.search);
    const childName = params.get('name') || 'Super Cub';
    const parentName = params.get('parent') || 'Parent Name';
    const mobile = params.get('mobile') || '9876543210';
    const batch = params.get('batch') || 'Morning Batch';
    const rowId = params.get('id') || '001';

    // 2. Update UI
    document.getElementById('childName').textContent = childName;
    document.getElementById('parentName').textContent = parentName;
    document.getElementById('mobile').textContent = mobile;
    document.getElementById('batch').textContent = batch;
    document.getElementById('rowId').textContent = '#' + rowId;

    // 3. Generate QR Code containing Human Readable Text
    const qrText = `âœ… VALID TICKET\n------------------\nChild: ${childName}\nParent: ${parentName}\nMobile: ${mobile}\nBatch: ${batch}\nID: ${rowId}\nGenerated: ${new Date().toLocaleDateString()}`;

    // Using QuickChart API
    document.getElementById('qrImg').src = `https://quickchart.io/qr?text=${encodeURIComponent(qrText)}&size=300&dark=000&ecLevel=M&margin=1`;

  </script>
</body>

</html>